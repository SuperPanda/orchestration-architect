# file: roles/btrfs_subvolumes/tasks/main.yml
# ========================================================
# AUTO-GENERATED FILE - DO NOT EDIT!
# This file is generated by an automated system.
# Any manual changes may be overwritten.
# ========================================================
# role: btrfs_subvolumes
# version: 0.8.1
---


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message

- name: Display supplied arguments to btrfs_subvolumes when verbosity is set
  when: (ansible_verbosity | int)  > 1
  ansible.builtin.debug:
    msg: |
      btrfs_subvolumes: {{ btrfs_subvolumes | default('not set') }}
      btrfs_subvolumes_state: {{ btrfs_subvolumes_state | default('not set') }}
      btrfs_subvolumes_subvols: {{ btrfs_subvolumes_subvols | default('not set') }}
      btrfs_subvolumes_fs_label: {{ btrfs_subvolumes_fs_label | default('not set') }}
      btrfs_subvolumes_fs_uuid: {{ btrfs_subvolumes_fs_uuid | default('not set') }}
      
- debug:
    msg: |
      btrfs_subvolumes_params:
        state: "{{ (btrfs_subvolumes | default({})).state is defined | ternary(btrfs_subvolumes.state, btrfs_subvolumes_state | default(omit, true)) }}"
        subvols: "{{ (btrfs_subvolumes | default({})).subvols is defined | ternary(btrfs_subvolumes.subvols, btrfs_subvolumes_subvols | default(omit, true)) }}"
        fs_label: "{{ (btrfs_subvolumes | default({})).fs_label is defined | ternary(btrfs_subvolumes.fs_label, btrfs_subvolumes_fs_label | default(omit, true)) }}"
        fs_uuid: "{{ (btrfs_subvolumes | default({})).fs_uuid is defined | ternary(btrfs_subvolumes.fs_uuid, btrfs_subvolumes_fs_uuid | default(omit, true)) }}"
        
- name: Pass configuration parameters to the btrfs_subvolumes role
  vars:
    btrfs_subvolumes_params:
      state: "{{ (btrfs_subvolumes | default({})).state is defined | ternary(btrfs_subvolumes.state, btrfs_subvolumes_state | default(omit, true)) }}"
      subvols: "{{ (btrfs_subvolumes | default({})).subvols is defined | ternary(btrfs_subvolumes.subvols, btrfs_subvolumes_subvols | default(omit, true)) }}"
      fs_label: "{{ (btrfs_subvolumes | default({})).fs_label is defined | ternary(btrfs_subvolumes.fs_label, btrfs_subvolumes_fs_label | default(omit, true)) }}"
      fs_uuid: "{{ (btrfs_subvolumes | default({})).fs_uuid is defined | ternary(btrfs_subvolumes.fs_uuid, btrfs_subvolumes_fs_uuid | default(omit, true)) }}"
      
  ansible.builtin.include_tasks:
    file: "{{ (btrfs_subvolumes_params.state==omit) | ternary('info', btrfs_subvolumes_params.state) }}.yml"


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
