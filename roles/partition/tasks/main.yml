# file: roles/partition/tasks/main.yml
# ========================================================
# AUTO-GENERATED FILE - DO NOT EDIT!
# This file is generated by an automated system.
# Any manual changes may be overwritten.
# ========================================================
# role: partition
# version: 0.8.1
---


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message

- name: Display supplied arguments to partition when verbosity is set
  when: (ansible_verbosity | int)  > 1
  ansible.builtin.debug:
    msg: |
      partition: {{ partition | default('not set') }}
      partition_state: {{ partition_state | default('not set') }}
      partition_label: {{ partition_label | default('not set') }}
      partition_number: {{ partition_number | default('not set') }}
      partition_start: {{ partition_start | default('not set') }}
      partition_end: {{ partition_end | default('not set') }}
      partition_flags: {{ partition_flags | default('not set') }}
      
- debug:
    msg: |
      partition_params:
        state: "{{ (partition | default({})).state is defined | ternary(partition.state, partition_state | default(omit, true)) }}"
        label: "{{ (partition | default({})).label is defined | ternary(partition.label, partition_label | default(omit, true)) }}"
        number: "{{ (partition | default({})).number is defined | ternary(partition.number, partition_number | default(omit, true)) }}"
        start: "{{ (partition | default({})).start is defined | ternary(partition.start, partition_start | default(omit, true)) }}"
        end: "{{ (partition | default({})).end is defined | ternary(partition.end, partition_end | default(omit, true)) }}"
        flags: "{{ (partition | default({})).flags is defined | ternary(partition.flags, partition_flags | default(omit, true)) }}"
        
- name: Pass configuration parameters to the partition role
  vars:
    partition_params:
      state: "{{ (partition | default({})).state is defined | ternary(partition.state, partition_state | default(omit, true)) }}"
      label: "{{ (partition | default({})).label is defined | ternary(partition.label, partition_label | default(omit, true)) }}"
      number: "{{ (partition | default({})).number is defined | ternary(partition.number, partition_number | default(omit, true)) }}"
      start: "{{ (partition | default({})).start is defined | ternary(partition.start, partition_start | default(omit, true)) }}"
      end: "{{ (partition | default({})).end is defined | ternary(partition.end, partition_end | default(omit, true)) }}"
      flags: "{{ (partition | default({})).flags is defined | ternary(partition.flags, partition_flags | default(omit, true)) }}"
      
  ansible.builtin.include_tasks:
    file: "{{ (partition_params.state==omit) | ternary('info', partition_params.state) }}.yml"


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
