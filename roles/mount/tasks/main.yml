# file: roles/mount/tasks/main.yml
# ========================================================
# AUTO-GENERATED FILE - DO NOT EDIT!
# This file is generated by an automated system.
# Any manual changes may be overwritten.
# ========================================================
# role: mount
# version: 0.8.1
---


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message

- name: Display supplied arguments to mount when verbosity is set
  when: (ansible_verbosity | int)  > 1
  ansible.builtin.debug:
    msg: |
      mount: {{ mount | default('not set') }}
      mount_state: {{ mount_state | default('not set') }}
      mount_map: {{ mount_map | default('not set') }}
      mount_type: {{ mount_type | default('not set') }}
      mount_target: {{ mount_target | default('not set') }}
      mount_source: {{ mount_source | default('not set') }}
      mount_fstab: {{ mount_fstab | default('not set') }}
      
- debug:
    msg: |
      mount_params:
        state: "{{ (mount | default({})).state is defined | ternary(mount.state, mount_state | default(omit, true)) }}"
        map: "{{ (mount | default({})).map is defined | ternary(mount.map, mount_map | default(omit, true)) }}"
        type: "{{ (mount | default({})).type is defined | ternary(mount.type, mount_type | default(omit, true)) }}"
        target: "{{ (mount | default({})).target is defined | ternary(mount.target, mount_target | default(omit, true)) }}"
        source: "{{ (mount | default({})).source is defined | ternary(mount.source, mount_source | default(omit, true)) }}"
        fstab: "{{ (mount | default({})).fstab is defined | ternary(mount.fstab, mount_fstab | default(omit, true)) }}"
        
- name: Pass configuration parameters to the mount role
  vars:
    mount_params:
      state: "{{ (mount | default({})).state is defined | ternary(mount.state, mount_state | default(omit, true)) }}"
      map: "{{ (mount | default({})).map is defined | ternary(mount.map, mount_map | default(omit, true)) }}"
      type: "{{ (mount | default({})).type is defined | ternary(mount.type, mount_type | default(omit, true)) }}"
      target: "{{ (mount | default({})).target is defined | ternary(mount.target, mount_target | default(omit, true)) }}"
      source: "{{ (mount | default({})).source is defined | ternary(mount.source, mount_source | default(omit, true)) }}"
      fstab: "{{ (mount | default({})).fstab is defined | ternary(mount.fstab, mount_fstab | default(omit, true)) }}"
      
  ansible.builtin.include_tasks:
    file: "{{ (mount_params.state==omit) | ternary('info', mount_params.state) }}.yml"


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
