# file: roles/loop_device/tasks/main.yml
# ========================================================
# AUTO-GENERATED FILE - DO NOT EDIT!
# This file is generated by an automated system.
# Any manual changes may be overwritten.
# ========================================================
# role: loop_device
# version: 0.8.1
---


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message

- name: Display supplied arguments to loop_device when verbosity is set
  when: (ansible_verbosity | int)  > 1
  ansible.builtin.debug:
    msg: |
      loop_device: {{ loop_device | default('not set') }}
      loop_device_state: {{ loop_device_state | default('not set') }}
      loop_device_target: {{ loop_device_target | default('not set') }}
      loop_device_map_name: {{ loop_device_map_name | default('not set') }}
      loop_device_size: {{ loop_device_size | default('not set') }}
      
- debug:
    msg: |
      loop_device_params:
        state: "{{ (loop_device | default({})).state is defined | ternary(loop_device.state, loop_device_state | default(omit, true)) }}"
        target: "{{ (loop_device | default({})).target is defined | ternary(loop_device.target, loop_device_target | default(omit, true)) }}"
        map_name: "{{ (loop_device | default({})).map_name is defined | ternary(loop_device.map_name, loop_device_map_name | default(omit, true)) }}"
        size: "{{ (loop_device | default({})).size is defined | ternary(loop_device.size, loop_device_size | default(omit, true)) }}"
        
- name: Pass configuration parameters to the loop_device role
  vars:
    loop_device_params:
      state: "{{ (loop_device | default({})).state is defined | ternary(loop_device.state, loop_device_state | default(omit, true)) }}"
      target: "{{ (loop_device | default({})).target is defined | ternary(loop_device.target, loop_device_target | default(omit, true)) }}"
      map_name: "{{ (loop_device | default({})).map_name is defined | ternary(loop_device.map_name, loop_device_map_name | default(omit, true)) }}"
      size: "{{ (loop_device | default({})).size is defined | ternary(loop_device.size, loop_device_size | default(omit, true)) }}"
      
  ansible.builtin.include_tasks:
    file: "{{ (loop_device_params.state==omit) | ternary('info', loop_device_params.state) }}.yml"


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
