# file: roles/filesystem/tasks/main.yml
# ========================================================
# AUTO-GENERATED FILE - DO NOT EDIT!
# This file is generated by an automated system.
# Any manual changes may be overwritten.
# ========================================================
# role: filesystem
# version: 0.8.1
---


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 30_managed_block_before_content


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 50_content_region_message

- name: Display supplied arguments to filesystem when verbosity is set
  when: (ansible_verbosity | int)  > 1
  ansible.builtin.debug:
    msg: |
      filesystem: {{ filesystem | default('not set') }}
      filesystem_state: {{ filesystem_state | default('not set') }}
      filesystem_label: {{ filesystem_label | default('not set') }}
      filesystem_opts: {{ filesystem_opts | default('not set') }}
      filesystem_type: {{ filesystem_type | default('not set') }}
      filesystem_path: {{ filesystem_path | default('not set') }}
      
- debug:
    msg: |
      filesystem_params:
        state: "{{ (filesystem | default({})).state is defined | ternary(filesystem.state, filesystem_state | default(omit, true)) }}"
        label: "{{ (filesystem | default({})).label is defined | ternary(filesystem.label, filesystem_label | default(omit, true)) }}"
        opts: "{{ (filesystem | default({})).opts is defined | ternary(filesystem.opts, filesystem_opts | default(omit, true)) }}"
        type: "{{ (filesystem | default({})).type is defined | ternary(filesystem.type, filesystem_type | default(omit, true)) }}"
        path: "{{ (filesystem | default({})).path is defined | ternary(filesystem.path, filesystem_path | default(omit, true)) }}"
        
- name: Pass configuration parameters to the filesystem role
  vars:
    filesystem_params:
      state: "{{ (filesystem | default({})).state is defined | ternary(filesystem.state, filesystem_state | default(omit, true)) }}"
      label: "{{ (filesystem | default({})).label is defined | ternary(filesystem.label, filesystem_label | default(omit, true)) }}"
      opts: "{{ (filesystem | default({})).opts is defined | ternary(filesystem.opts, filesystem_opts | default(omit, true)) }}"
      type: "{{ (filesystem | default({})).type is defined | ternary(filesystem.type, filesystem_type | default(omit, true)) }}"
      path: "{{ (filesystem | default({})).path is defined | ternary(filesystem.path, filesystem_path | default(omit, true)) }}"
      
  ansible.builtin.include_tasks:
    file: "{{ (filesystem_params.state==omit) | ternary('info', filesystem_params.state) }}.yml"


# BEGIN ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
# END ORCHESTRATION ARCHITECT MANAGED BLOCK 90_managed_block_after_content
